{% extends "base.html" %}

{% block content %}
    <div class="container">
        {% if message %}
            <div class="message {% if "Fehler" in message %}error{% elif message %}success{% endif %}">
                {{ message }}
            </div>
        {% endif %}

        <section>
            <h2>Benutzerverwaltung ðŸ‘¥</h2>
            <form method="POST">
                <input type="hidden" name="action" value="create_user">
                <input type="text" name="access_key" placeholder="Benutzername">
                <input type="password" name="secret_key" placeholder="Passwort">
                <button type="submit">Benutzer erstellen</button>
            </form>
            <form method="POST">
                <input type="hidden" name="action" value="delete_user">
                <input type="text" name="access_key" placeholder="Benutzername zum LÃ¶schen">
                <button type="submit">Benutzer lÃ¶schen</button>
            </form>

            <h3>Vorhandene Benutzer:</h3>
            <ul>
                {% for user in users %}
                    <li>{{ user }}</li>
                {% endfor %}
            </ul>
        </section>

        <hr>

        <section>
            <h2>Bucket-Verwaltung ðŸª£</h2>
            <form method="POST">
                <input type="hidden" name="action" value="create_bucket">
                <input type="text" name="bucket_name" placeholder="Bucket-Name">
                <button type="submit">Bucket erstellen</button>
            </form>
            <form method="POST">
                <input type="hidden" name="action" value="delete_bucket">
                <input type="text" name="bucket_name" placeholder="Bucket-Name zum LÃ¶schen">
                <button type="submit">Bucket lÃ¶schen</button>
            </form>

            <h3>Vorhandene Buckets:</h3>
            <ul>
                {% for bucket in buckets %}
                    <li>{{ bucket }}</li>
                {% endfor %}
            </ul>
        </section>

        <hr>
        
        <section>
            <h2>Benutzerrechte verwalten ðŸ”‘</h2>
            <form method="POST">
                <input type="hidden" name="action" value="set_policy">
                
                <select name="policy_user">
                    {% for user in users %}
                        <option value="{{ user }}">{{ user }}</option>
                    {% endfor %}
                </select>
                
                <select name="policy_bucket">
                    {% for bucket in buckets %}
                        <option value="{{ bucket }}">{{ bucket }}</option>
                    {% endfor %}
                </select>
                
                <select name="policy_name">
                    <option value="readonly">readonly</option>
                    <option value="readwrite">readwrite</option>
                    <option value="none">keine Rechte</option>
                </select>
                <button type="submit">Rechte setzen</button>
            </form>
            <p>FÃ¼r eine Policy auf einen Bucket, muss der Bucket-Name dem Policy-Namen entsprechen.</p>
        </section>

    </div>
{% endblock %}